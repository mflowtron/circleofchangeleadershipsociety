
# Remove Google OAuth Sign-In Feature

## Overview

Remove the "Continue with Google" authentication feature completely from the application. The app will retain email/password authentication only.

---

## Files to Modify

### 1. `src/pages/Auth.tsx`

**Remove:**
- Import of `lovable` from `@/integrations/lovable`
- Import of `isRunningAsPWA`, `usePWAAuthListener` from `@/hooks/usePWAAuth`
- Import of `Separator` from `@/components/ui/separator`
- State: `googleLoading`
- Function: `handleGoogleSignIn`
- Hook call: `usePWAAuthListener()`
- UI: Google Sign-In button (lines 166-177)
- UI: "or" divider section (lines 179-187)

**Changes summary:**
```text
Before: Google button → Divider → Tabs (Sign In / Sign Up)
After: Tabs (Sign In / Sign Up) only
```

---

### 2. `src/pages/AuthCallback.tsx`

**Update:**
- Remove import of `storePWAAuthSession` from `@/hooks/usePWAAuth`
- Remove the `storePWAAuthSession()` call (line 30)
- Remove the popup window handling logic (lines 32-43) since that was specifically for OAuth popups

The callback page should remain because it still handles:
- Email verification redirects
- Password reset redirects
- General session validation

**Simplified callback logic:**
```text
1. Get session from Supabase
2. If no session → redirect to /auth
3. If session exists → check approval → redirect accordingly
```

---

### 3. `src/hooks/usePWAAuth.ts`

**Remove entire file** - This hook exists solely to bridge OAuth between PWA and external browser. With Google OAuth removed:
- `isRunningAsPWA()` - No longer needed (was only for OAuth handling)
- `usePWAAuthListener()` - Listener for OAuth sessions
- `storePWAAuthSession()` - Store OAuth session for PWA

---

### 4. `src/integrations/lovable/index.ts`

**Keep as-is** - This file is auto-generated by Lovable and should not be modified manually. The `signInWithOAuth` function will simply become unused.

---

## Summary of Changes

| File | Action |
|------|--------|
| `src/pages/Auth.tsx` | Remove Google button, divider, related state/functions |
| `src/pages/AuthCallback.tsx` | Simplify - remove PWA auth bridge code |
| `src/hooks/usePWAAuth.ts` | Delete entire file |
| `src/integrations/lovable/index.ts` | No changes (auto-generated) |

---

## What Remains

- Email/password Sign In
- Email/password Sign Up
- Auth callback for email verification and password reset flows
- Standard Supabase session management
